"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[7393],{7393:function(t,a,e){e.r(a),e.d(a,{default:function(){return l}});e(44114);var s=e(5134),n={props:["view"],data(){return{loading:!1,groups_id:null,groupsTeamList:[],groupsActivity:{},total_count:0,params:{view:0,page:1,pageSize:20,keywords:""}}},mounted(){this.groups_id=this.$route.params.groups_id,this.params.view=this.view,this.getGroupsTeamList()},methods:{handleCurrentChange(t){this.params.page=t,this.getGroupsTeamList()},getGroupsTeamList(){this.loading=!0,(0,s.getGroupsTeamList)(this.groups_id,this.params).then(t=>{this.groupsTeamList=t.data.data.list,this.groupsActivity=t.data.data.groupsActivity,this.total_count=t.data.data.total_count,this.loading=!1}).catch(t=>{this.loading=!1,this.$message({type:"error",message:$t("4jlhopa","获取拼团活动列表失败","lang")})})},showTeamAction(t,a){this.$router.push({path:"/marketing/fission-marketing/group-buying/detail/"+a.team_id})}}},i=e(81656),r={components:{teamList:(0,i.A)(n,function(){var t=this,a=t._self._c;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.groupsTeamList,border:"",height:"580"}},[a("el-table-column",{attrs:{prop:"username",label:$t("fljx2","团长","lang")}}),a("el-table-column",{attrs:{label:$t("i5z22","时间","lang")},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("datetime")(a.row.begin_time,"YYYY-MM-DD HH:mm:ss"))+" - "+t._s(t._f("datetime")(a.row.end_time,"YYYY-MM-DD HH:mm:ss"))+" ")]}}])}),a("el-table-column",{attrs:{label:$t("cuqdpt4","拼团状态","lang"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.team_status?a("span",[t._v($t("lq5q43","进行中","lang"))]):2==e.row.team_status?a("span",[t._v($t("h4sv2","成功","lang"))]):a("span",[t._v($t("fy1g2","失败","lang"))])]}}])}),a("el-table-column",{attrs:{label:$t("cukafw4","拼团人数","lang")},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.join_person_num)+"/"+t._s(t.groupsActivity.person_num)+" ")]}}])}),a("el-table-column",{attrs:{label:$t("hkxb2","操作","lang"),width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.showTeamAction(e.$index,e.row)}}},[t._v($t("gcika4"," 查看 ","lang"))])]}}])})],1),t.total_count>t.params.pageSize?a("div",{staticClass:"content-center content-top-padded"},[a("el-pagination",{attrs:{layout:"prev, pager, next","current-page":t.params.page,total:t.total_count,"page-size":t.params.pageSize},on:{"update:currentPage":function(a){return t.$set(t.params,"page",a)},"update:current-page":function(a){return t.$set(t.params,"page",a)},"current-change":t.handleCurrentChange}})],1):t._e()],1)},[],!1,null,"a4ba3470",null).exports},data(){return{loading:!1,view:0,activeName:"first",list:[]}},mounted(){void 0!==this.$route.query.activeName&&(this.activeName=this.$route.query.activeName)},methods:{}},l=(0,i.A)(r,function(){var t=this,a=t._self._c;return a("div",[a("el-tabs",{attrs:{type:"border-card"},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:$t("en402","全部","lang"),name:"first"}},[a("teamList",{attrs:{view:0}})],1),a("el-tab-pane",{attrs:{label:$t("ex5dz3","拼团中","lang"),name:"second"}},[a("teamList",{attrs:{view:1}})],1),a("el-tab-pane",{attrs:{label:$t("cunh4l4","拼团成功","lang"),name:"third"}},[a("teamList",{attrs:{view:2}})],1),a("el-tab-pane",{attrs:{label:$t("cumad64","拼团失败","lang"),name:"fourth"}},[a("teamList",{attrs:{view:3}})],1)],1)],1)},[],!1,null,"361734aa",null).exports}}]);